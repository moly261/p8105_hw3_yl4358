---
title: "p8105_hw3_yl4358"
author: "YI LIU"
date: "10/6/2019"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

Problem 1
```{r}
library(p8105.datasets)
data("instacart")
```

* The `instacart` dataset contains `r nrow(instacart)` rows and `r ncol(instacart)` columns; Key variables include `user_id`, `product_name`, `order_number`, `order_dow`, `order_hour_of_day` and so on. Every observation illustrates the product name, its order time, user's relevant ordering information, its belonging aisle and department.

```{r}
instacart_1 =
  instacart %>%
  group_by(aisle) %>% 
  summarize(n = n()) %>% 
  arrange(desc(n))

head(instacart_1,10) %>% 
knitr::kable()
```

* There are `r nrow(instacart_1)` aisles there and `fresh vegetables` and `fresh fruits` aisles are the most items ordered from.

```{r}
knitr::opts_chunk$set(
  fig.width = 6,
  fig.asp = .6,
  out.width = "90%"
)
instacart_2 =
  instacart %>%
  group_by(aisle_id) %>% 
  summarize(n = n()) %>%
  arrange(desc(n)) %>% 
  filter(n >= 10000) %>% 
   ggplot(aes(x = aisle_id, y = n)) + 
    geom_point(color = "blue", size = 3) + geom_line(color = "blue") +
  labs(
    title = "The number of items ordered in each aisle",
    x = "Aisle ID",
    y = "The number of items ordered"
  ) +
  theme_bw()
instacart_2
```

* We use point and line plot to display the number of items ordered in each aisle, they are quite different among aisles. As we can see, aisle 24 (fresh fruits) and aisle 83 (fresh vegetables) are aisles most items ordered from. Plot is so clear and straightforward that we could get information from it.

